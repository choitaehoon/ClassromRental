<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="classroomRental.mapper.SwapWriteInfo">
	<insert id="insertSwapWrite" useGeneratedKeys="true" keyProperty="number">
	insert swapwrite (id, title, textarea,loginId, request,idDate, currentTime, endTime)
	values(#{id}, #{title}, #{textarea}, #{loginId}, 1, #{idDate}, #{currentTime}, #{endTime})
	</insert>
	
	<select id="selectByAll" resultType="classroomRental.dto.SwapWriteDto">
	 select s.number,s.loginId, s.title, s.textarea, s.request,
	 		s.idDate, s.currentTime, s.endTime, s.borrower
	 from user u inner join swapwrite s
	 on u.id = s.id
	</select>
	
	<select id="selectByNumber" resultType="classroomRental.dto.SwapWriteDto">
	select * from swapwrite where number = #{number}
	</select>
	
	<update id="updateSwapWrite">
	update swapwrite set request = 0 , borrower = #{borrower}
	where number = #{number}
	</update>
	
	
</mapper>